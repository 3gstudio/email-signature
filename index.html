<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Assinaturas de Email</title>
    <link rel="icon" type="image/png" href="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/images/favicon/favicon.svg" />
    <link rel="shortcut icon" href="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/images/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/images/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Gerador de QR Code" />
    <link rel="manifest" href="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/images/favicon/site.webmanifest" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .signature-preview {
            font-family: Arial, sans-serif;
        }
        .signature-preview table {
            border-collapse: collapse;
        }
        .signature-preview img {
            max-width: 100%;
            height: auto;
        }
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }
        /* Estilo para o elemento temporário de cópia */
        .copy-container {
            position: absolute;
            left: -9999px;
            top: -9999px;
            opacity: 0;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="min-h-screen bg-gray-50 py-8">
            <div class="max-w-6xl mx-auto px-4">
                <header class="text-center mb-8">
                    <div class="flex items-center justify-center gap-4 mb-4">
                        <img 
                            src="https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/bloom-dark.svg" 
                            alt="Logo Bloom" 
                            class="h-12 w-auto"
                        />
                        <h1 class="text-3xl font-bold text-gray-900">
                            Gerador de Assinaturas de Email
                        </h1>
                    </div>
                    <p class="text-gray-600">
                        Crie sua assinatura profissional personalizada
                    </p>
                </header>

                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Formulário -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-semibold mb-6 text-gray-800">
                            Dados Pessoais
                        </h2>
                        
                        <form @submit.prevent class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Empresa
                                </label>
                                <select 
                                    v-model="selectedCompany" 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                >
                                    <option value="">Selecione uma empresa</option>
                                    <option 
                                        v-for="company in companies" 
                                        :key="company.id" 
                                        :value="company.id"
                                    >
                                        {{ company.name }}
                                    </option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Nome Completo
                                </label>
                                <input 
                                    v-model="formData.name"
                                    type="text" 
                                    placeholder="Digite seu nome completo"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Cargo
                                </label>
                                <input 
                                    v-model="formData.jobTitle"
                                    type="text" 
                                    placeholder="Digite seu cargo"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Email
                                </label>
                                <input 
                                    v-model="formData.email"
                                    type="email" 
                                    placeholder="seu.email@empresa.com"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Telefone
                                </label>
                                <input 
                                    v-model="formData.phone"
                                    type="tel" 
                                    placeholder="(11) 99999-9999"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>

                            <div class="pt-4 space-y-3">
                                <button 
                                    @click="copySignature"
                                    :disabled="!isFormValid"
                                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
                                >
                                    Copiar Assinatura
                                </button>
                                
                                <button 
                                    @click="showInstructions = true"
                                    type="button"
                                    class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors"
                                >
                                    Como Instalar a Assinatura
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Preview -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-semibold mb-6 text-gray-800">
                            Preview da Assinatura
                        </h2>
                        
                        <div class="border border-gray-200 rounded-md p-4 bg-gray-50 min-h-[200px]">
                            <div v-if="!selectedCompany" class="text-center text-gray-500 py-8">
                                Selecione uma empresa para ver o preview
                            </div>
                            <div v-else v-html="generatedSignatureWithPlaceholders" class="signature-preview"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal de Instruções -->
            <div 
                v-if="showInstructions" 
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
                @click.self="showInstructions = false"
            >
                <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden">
                    <div class="p-6 border-b">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-semibold">Como Instalar sua Assinatura</h3>
                            <button 
                                @click="showInstructions = false"
                                class="text-gray-400 hover:text-gray-600"
                            >
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="p-6">
                        <!-- Abas -->
                        <div class="flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg">
                            <button
                                v-for="client in emailClients"
                                :key="client.id"
                                @click="activeTab = client.id"
                                :class="[
                                    'flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors',
                                    activeTab === client.id 
                                        ? 'bg-white text-blue-600 shadow-sm' 
                                        : 'text-gray-600 hover:text-gray-900'
                                ]"
                            >
                                {{ client.name }}
                            </button>
                        </div>

                        <!-- Conteúdo das Abas -->
                        <div class="overflow-y-auto max-h-[60vh]">
                            <div v-for="client in emailClients" :key="client.id" v-show="activeTab === client.id">
                                <div class="space-y-6">
                                    <div v-for="(step, index) in client.steps" :key="index">
                                        <div class="flex gap-4 mb-3">
                                            <div class="flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold">
                                                {{ index + 1 }}
                                            </div>
                                            <div class="flex-1">
                                                <p class="text-gray-700">{{ step.text }}</p>
                                            </div>
                                        </div>
                                        <div v-if="step.image" class="ml-12">
                                            <img 
                                                :src="step.image" 
                                                :alt="`Passo ${index + 1} - ${client.name}`"
                                                class="w-full max-w-md rounded-lg border border-gray-200 shadow-sm"
                                            />
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Toast de Sucesso -->
            <transition name="fade">
                <div 
                    v-if="showToast"
                    class="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50"
                >
                    Assinatura copiada com sucesso!
                </div>
            </transition>

            <!-- Container temporário para cópia -->
            <div ref="copyContainer" class="copy-container"></div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, watch } = Vue;

        createApp({
            setup() {
                // Estado reativo
                const selectedCompany = ref('');
                const formData = ref({
                    name: '',
                    jobTitle: '',
                    email: '',
                    phone: ''
                });
                const showInstructions = ref(false);
                const activeTab = ref('gmail');
                const showToast = ref(false);
                const copyContainer = ref(null);

                // Configuração das empresas
                const companies = ref([
                    {
                        id: 'bloom',
                        name: 'Bloom',
                        website: 'http://bloommkt.com.br',
                        websiteDisplay: 'bloommkt.com.br',
                        logo: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/logo-bloom.png',
                        logoWidth: 150,
                        logoHeight: 47,
                        borderColor: 'rgb(51,156,207)',
                        websiteColor: 'rgb(51,156,207)',
                        emailIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/email.png',
                        phoneIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/phone.png',
                        websiteIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/website.png'
                    },
                    {
                        id: '3gstudio',
                        name: '3gStudio',
                        website: 'https://3gstudio.com.br',
                        websiteDisplay: '3gstudio.com.br',
                        logo: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/logo-3g.png',
                        logoWidth: 70,
                        logoHeight: 69,
                        borderColor: 'rgb(244,121,32)',
                        websiteColor: 'rgb(244,121,32)',
                        emailIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/email_3gstudio.png',
                        phoneIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/phone_3gstudio.png',
                        websiteIcon: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/website_3gstudio.png'
                    }
                ]);

                // Clientes de email
                const emailClients = ref([
                    {
                        id: 'gmail',
                        name: 'Gmail',
                        instructionImage: '',
                        steps: [
                            { text: 'Abra o Gmail e clique na engrenagem (Configurações)', image: null },
                            { text: 'Clique em "Mostrar todas as configurações"', image: null },
                            { text: 'Role para baixo até encontrar "Assinatura"', image: null },
                            { text: 'Clique em "Criar novo" se não tiver uma assinatura', image: null },
                            { text: 'Cole sua assinatura na área de edição', image: '' },
                            { text: 'Role para baixo e clique em "Salvar alterações"', image: null },
                            { text: 'Escreva um novo e-mail e veja sua nova assinatura!', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/gmail-webmail-2.jpg' }
                        ]
                    },
                    {
                        id: 'apple-mail',
                        name: 'Apple Mail (MacOS)',
                        instructionImage: '',
                        steps: [
                            { text: 'Com o aplicativo de email aberto, clique em Mail e, em seguida, Ajustes', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/mail-ajustes.png' },
                            { text: 'Na janela de preferências, clique na aba Assinaturas.', image: null },
                            { text: 'Clique no botão "+" na coluna do meio', image: null },
                            { text: 'Cole sua assinatura na área de edição à direita', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/apple-mail-macos-1.jpg' },
                            { text: 'Importante: certifique-se de que a opção "Sempre corresponder à fonte padrão da minha mensagem" esteja desmarcada, caso contrário, sua assinatura aparecerá em texto simples.', image: null },
                            { text: 'Nesta visualização, as imagens aparecerão em branco. Não se preocupe – assim que você for redigir um e-mail, as imagens aparecerão.', image: null },
                            { text: 'Feche a janela de preferências para salvar', image: null },
                            { text: 'Importante: ainda está vendo uma versão em texto simples? Tente desmarcar a caixa de seleção "Colocar assinatura acima do texto citado" e colar sua assinatura novamente.', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/apple-mail-macos-2.jpg' }
                        ]
                    },
                    {
                        id: 'mail-app-ios',
                        name: 'Mail App (iOS)',
                        instructionImage: '',
                        steps: [
                            { text: 'Abra o Gerador de Assinaturas através do dispositivo iOS e copie a assinatura gerada', image: null },
                            { text: 'Acesse o aplicativo Ajustes no seu dispositivo iOS, role a tela para baixo e selecione Mail, role a tela para baixo e selecione Assinatura', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/apple-mail-ios-updated-1.jpg' },
                            { text: 'Cole sua assinatura no editor de assinaturas (pressione e segure o editor para abrir a opção de colar).', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/apple-mail-ios-updated-2.jpg' },
                            { text: 'Acesse o aplicativo Mail, escreva um novo e-mail e veja sua nova assinatura!', image: 'https://pub-336d12e9d48c4611a5ffba8c2e1f4bbb.r2.dev/images/tutorials/apple-mail-ios-updated-3.jpg' }
                        ]
                    },
                    {
                        id: 'webmail',
                        name: 'Webmail Geral',
                        instructionImage: '',
                        steps: [
                            { text: 'Acesse seu webmail e procure por "Configurações" ou "Settings"', image: null },
                            { text: 'Procure pela seção "Assinatura" ou "Signature"', image: null },
                            { text: 'Cole sua assinatura na área de edição', image: '' },
                            { text: 'Certifique-se de selecionar "HTML" como formato', image: null },
                            { text: 'Salve as configurações', image: null },
                            { text: 'Teste enviando um email para verificar se a assinatura aparece corretamente', image: null }
                        ]
                    }
                ]);

                // Computed
                const currentCompany = computed(() => {
                    return companies.value.find(c => c.id === selectedCompany.value);
                });

                const isFormValid = computed(() => {
                    return selectedCompany.value && 
                           formData.value.name && 
                           formData.value.jobTitle && 
                           formData.value.email && 
                           formData.value.phone;
                });

                const generatedSignature = computed(() => {
                    if (!currentCompany.value || !isFormValid.value) return '';
                    
                    const company = currentCompany.value;
                    
                    return `
                        <div>
                            <style>
                                .sh-src a {
                                    text-decoration: none !important;
                                }
                            </style>
                        </div>
                        <br>
                        <table cellpadding="0" cellspacing="0" border="0" class="sh-src" style="margin: 0px; border-collapse: collapse;">
                            <tr>
                                <td style="padding: 0px 1px 0px 0px;">
                                    <table cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse; margin: 0px;">
                                        <tr>
                                            <td align="center" style="padding: 0px 35px 0px 0px; vertical-align: top;">
                                                <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                    <tr>
                                                        <td style="padding: 0px 1px 0px 0px;">
                                                            <p style="margin: 1px;">
                                                                <a href="${company.website}" target="_blank">
                                                                    <img src="${company.logo}" alt="" title="Logo" width="${company.logoWidth}" height="${company.logoHeight}" style="display: block; border: 0px; max-width: ${company.logoWidth}px;">
                                                                </a>
                                                            </p>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td style="padding: 1px 0px 0px; border-right: 2px solid ${company.borderColor};"></td>
                                            <td style="padding: 0px 1px 0px 35px; vertical-align: top;">
                                                <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                    <tr>
                                                        <td style="padding: 0px 1px 20px 0px; font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap;">
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; font-weight: 700; color: rgb(0,0,0); white-space: nowrap; margin: 1px;">
                                                                ${formData.value.name}
                                                            </p>
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); margin: 1px;">
                                                                ${formData.value.jobTitle}
                                                            </p>
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); margin: 1px;">
                                                                ${company.name}
                                                            </p>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 0px 1px 0px 0px;">
                                                            <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.emailIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,135) !important; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="mailto:${formData.value.email}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                    ${formData.value.email}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.phoneIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,135) !important; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="tel:${formData.value.phone}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                    ${formData.value.phone}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.websiteIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor} !important; font-weight: 700; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="${company.website}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor}; font-weight: 700; text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor}; font-weight: 700; text-decoration: none !important;">
                                                                                    ${company.websiteDisplay}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    `;
                });

                const generatedSignatureWithPlaceholders = computed(() => {
                    if (!currentCompany.value) return '';
                    
                    const company = currentCompany.value;
                    const name = formData.value.name || '[Seu Nome]';
                    const jobTitle = formData.value.jobTitle || '[Seu Cargo]';
                    const email = formData.value.email || 'seu.email@empresa.com';
                    const phone = formData.value.phone || '(11) 99999-9999';
                    
                    return `
                        <div>
                            <style>
                                .sh-src a {
                                    text-decoration: none !important;
                                }
                                .placeholder-text {
                                    color: #9CA3AF !important;
                                    font-style: italic;
                                }
                            </style>
                        </div>
                        <br>
                        <table cellpadding="0" cellspacing="0" border="0" class="sh-src" style="margin: 0px; border-collapse: collapse;">
                            <tr>
                                <td style="padding: 0px 1px 0px 0px;">
                                    <table cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse; margin: 0px;">
                                        <tr>
                                            <td align="center" style="padding: 0px 35px 0px 0px; vertical-align: top;">
                                                <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                    <tr>
                                                        <td style="padding: 0px 1px 0px 0px;">
                                                            <p style="margin: 1px;">
                                                                <a href="${company.website}" target="_blank">
                                                                    <img src="${company.logo}" alt="" title="Logo" width="${company.logoWidth}" height="${company.logoHeight}" style="display: block; border: 0px; max-width: ${company.logoWidth}px;">
                                                                </a>
                                                            </p>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td style="padding: 1px 0px 0px; border-right: 2px solid ${company.borderColor};"></td>
                                            <td style="padding: 0px 1px 0px 35px; vertical-align: top;">
                                                <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                    <tr>
                                                        <td style="padding: 0px 1px 20px 0px; font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap;">
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; font-weight: 700; color: rgb(0,0,0); white-space: nowrap; margin: 1px;" class="${!formData.value.name ? 'placeholder-text' : ''}">
                                                                ${name}
                                                            </p>
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); margin: 1px;" class="${!formData.value.jobTitle ? 'placeholder-text' : ''}">
                                                                ${jobTitle}
                                                            </p>
                                                            <p style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); margin: 1px;">
                                                                ${company.name}
                                                            </p>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 0px 1px 0px 0px;">
                                                            <table cellpadding="0" cellspacing="0" border="0" style="margin: 0px; border-collapse: collapse;">
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.emailIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,135) !important; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="mailto:${email}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;" class="${!formData.value.email ? 'placeholder-text' : ''}">
                                                                                    ${email}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.phoneIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,135) !important; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="tel:${phone}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: rgb(136,136,136); text-decoration: none !important;" class="${!formData.value.phone ? 'placeholder-text' : ''}">
                                                                                    ${phone}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td valign="middle" style="padding: 1px 5px 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <img src="${company.websiteIcon}" alt="" width="18" height="18" style="display: block; border: 0px; margin: 0px; width: 18px; height: 18px;">
                                                                        </p>
                                                                    </td>
                                                                    <td style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor} !important; font-weight: 700; padding: 1px 0px; vertical-align: middle;">
                                                                        <p style="margin: 1px;">
                                                                            <a href="${company.website}" target="_blank" style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor}; font-weight: 700; text-decoration: none !important;">
                                                                                <span style="font-family: Arial, sans-serif; font-size: 13px; line-height: 17px; white-space: nowrap; color: ${company.websiteColor}; font-weight: 700; text-decoration: none !important;">
                                                                                    ${company.websiteDisplay}
                                                                                </span>
                                                                            </a>
                                                                        </p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    `;
                });

                // Métodos
                const copySignature = async () => {
                    if (!isFormValid.value) return;
                    
                    try {
                        // Criar um elemento temporário com o HTML renderizado
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = generatedSignature.value;
                        tempDiv.style.position = 'absolute';
                        tempDiv.style.left = '-9999px';
                        tempDiv.style.top = '-9999px';
                        document.body.appendChild(tempDiv);

                        // Selecionar o conteúdo
                        const range = document.createRange();
                        range.selectNodeContents(tempDiv);
                        const selection = window.getSelection();
                        selection.removeAllRanges();
                        selection.addRange(range);

                        // Tentar usar a API moderna primeiro
                        if (navigator.clipboard && window.ClipboardItem) {
                            try {
                                // Criar um blob com o HTML
                                const htmlBlob = new Blob([generatedSignature.value], { type: 'text/html' });
                                const textBlob = new Blob([tempDiv.innerText], { type: 'text/plain' });
                                
                                const clipboardItem = new ClipboardItem({
                                    'text/html': htmlBlob,
                                    'text/plain': textBlob
                                });
                                
                                await navigator.clipboard.write([clipboardItem]);
                            } catch (clipboardError) {
                                // Fallback para execCommand se a API moderna falhar
                                document.execCommand('copy');
                            }
                        } else {
                            // Fallback para navegadores mais antigos
                            document.execCommand('copy');
                        }

                        // Limpar
                        selection.removeAllRanges();
                        document.body.removeChild(tempDiv);

                        showToast.value = true;
                        setTimeout(() => {
                            showToast.value = false;
                        }, 3000);
                    } catch (err) {
                        console.error('Erro ao copiar:', err);
                        
                        // Último fallback - copiar como texto simples
                        try {
                            await navigator.clipboard.writeText(generatedSignature.value);
                            showToast.value = true;
                            setTimeout(() => {
                                showToast.value = false;
                            }, 3000);
                        } catch (textError) {
                            alert('Erro ao copiar a assinatura. Tente novamente.');
                        }
                    }
                };

                // Watchers
                watch(selectedCompany, (newValue) => {
                    if (newValue) {
                        const company = companies.value.find(c => c.id === newValue);
                        if (company) {
                            // Pré-preencher o email se estiver vazio
                            if (!formData.value.email) {
                                if (company.id === 'bloom') {
                                    formData.value.email = 'seu.email@bloommkt.com.br';
                                } else if (company.id === '3gstudio') {
                                    formData.value.email = 'seu.email@3gstudio.com.br';
                                }
                            }
                        }
                    }
                });

                return {
                    selectedCompany,
                    formData,
                    showInstructions,
                    activeTab,
                    showToast,
                    companies,
                    emailClients,
                    currentCompany,
                    isFormValid,
                    generatedSignature,
                    generatedSignatureWithPlaceholders,
                    copySignature,
                    copyContainer
                };
            }
        }).mount('#app');
    </script>
</body>
</html>